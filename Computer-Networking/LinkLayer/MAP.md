# Multiple Access Protocol
--------------------------

网络链路有两种类型：**点对点链路**是由链路一端的单个发送方和链路另一端的单个接收方组成。点对点协议和高级数据链路控制是两种这样的协议。**广播链路**能够让多个发送和接收节点都连接到一个相同的，单一的，共享的网络上。即当任何一个节点传输一个帧的时候，该信道广播该帧，每个其他节点都收到一个该帧的拷贝。**多路访问协议是用来规范节点在共享的广播信道上的传输行为**。

当两个或以上的节点同时传输，就会出现**碰撞**，当碰撞发生的时候，接收节点没有一个能获取任何有效的传输帧。


## 多路访问协议的类型

多路访问协议主要分为以下三种类型：

+ 信道划分协议
+ 随机接入协议
+ 轮流协议

多路访问协议所希望的特性如下：

+ 当之有一个节点有数据发送时，该节点具有R bps的吞吐量。
+ 当有M个数据要发送数据时，每个节点的吞吐量为R/M bps。
+ 协议是分散的，不会因为某个节点的故障使得整个系统崩溃。
+ 协议是简单的，使得实现起来的代价不是很高。

### 信道划分协议

+ 时分多路
+ 频分多路
+ 码分多址

时分多路和频分多路优缺点是一样的，它们避免了碰撞，在N个节点之间公平地划分了带宽，然而，它们都限制了一个节点只能使用R/N bps的带宽，即使当它是唯一一个有分组要发送的节点。

CDMA网络是为每个节点分配一种不同的编码。如果精心选择这些编码，可以使得不同的节点可以同时传送，并且它们各自的接收方仍然能够正确接收发送方编码后的数据比特，而不在乎其他节点的干扰传输。

### 随机接入协议

+ 时隙ALOHA协议
+ 载波侦听多路访问CSMA

ALOHA协议主要思想是，当一个需要发送分组的节点，如果该时刻是某个时隙的起始，那么它将会以全部速率传送该分组。如果中途发生了碰撞，那么它将会以p的概率在之后的某个时隙重发该分组。缺陷很明显，这样会导致很多的碰撞，但有点在于，如果只有一个节点需要发送分组，那么它将能够以全部的速度来发送该份组。

CSMA改进了ALOHA，因为它的节点在发送前都进行监听，如果信道中有着正在传输的分组，那么它就暂时不会发送分组，即发送前监听。

### 轮流协议

+ 轮询协议
+ 令牌传递协议

轮询协议需要一个节点作为主节点，这个节点以循环的方式轮询每个节点，规定每个节点所能传输的最大帧数。这样避免了碰撞，但引入了轮询时延以及当主节点出现故障，那么整个信道将会变得不可操作。

令牌传递协议在广播信道中引入令牌，这个令牌在节点间传递，如果一个节点持有令牌并且有分组需要发送，那么这个节点就发送所允许的最大帧数，如果令牌传到了一个不需要发送分组的节点，那么这个节点将会立刻将令牌传给附近节点。
