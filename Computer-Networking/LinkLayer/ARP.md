# ARP
-----


## MAC地址

网络层中的地址称为IP地址，链路层的地址称为MAC地址，MAC地址是一个长度为6字节的地址，共有2^48格可能的MAC地址，这些地址不会随着适配器地址的变动而变动，这跟IP是有区别的。

当某适配器要向某些目的适配器发送一个帧时，发送适配器将目的地适配器的MAC地址插入到该帧中，并将该帧发送到LAN上。

MAC广播地址为`FF-FF-FF-FF-FF-FF`。

## ARP

ARP所做的工作就是将网络层地址转换为链路层地址。当源节点要发送分组的时候，它必须要向它的适配器不仅提供IP数据报，而且要提供目的节点的MAC地址，提供了IP数据报和MAC地址后，发送节点的适配器将构造一个包含目的节点的MAC地址的链路层帧，并把帧放进LAN。

当源节点要发送一个未知MAC地址的IP网络层数据报时，它不能从ARP中查表获得，此时，节点要构造一个特殊的**ARP分组**。这个ARP分组用广播的形式对子网的节点进行询问。当某个节点的ARP表中有该IP地址于MAC地址条目时，它会向查询节点发回一个包含结果条目的普通报文。这样查询节点就可以更新ARP表了。
