# P2P Applications
------------------


## P2P Model

P2P是另外一种应用程序的架构，对于P2P体系结构来说，它对总是打开的基础设施服务器有着最小的（或者没有）依赖。


## BitTorrent

### 简介

BitTorrent是一种用于文件分发的流行的P2P协议。参与一个特定文件分发的所有对等方的集合称为一个洪流。对等方一旦获得了整个文件，它也许会离开洪流，也可能留在洪流中并继续为其他对等方上载文件块。

每个洪流都有一个基础设施节点，称为**追踪器**。当一个对等方加入洪流时，它会向追踪器注册，并周期性地通知追踪器它还在洪流中，追踪器以这种方式来跟踪洪流中的对等方。当用户加入洪流的时候，追踪器会随机选择一些对等方，然后将其IP地址发送给用户，这样用户会试图与那些对等方创建TCP连接，创建TCP连接成功的那些对等方被称为**邻近对等方**。

### 请求文件块

用户会向其邻近对等方询问它们所具有的文件块列表，在决定请求哪些块的时候，用户使用一种称为**最稀罕优先**的策略，即根据用户没有的块来从他的邻居中确定最稀罕的块（最稀罕的块就是在邻居中拷贝数量最少的那些块），并优先请求那些块。_其目标大致是均衡每个块在洪流中的拷贝数量。_

### 传输文件块

在传输文件块的时候使用一种称为**对等算法**的技巧。基本思想是用户确定邻居的优先权，这些邻居是能够以最高速率供给他数据的。用户会一直测量着从他的每个邻居接收到比特的速率，从而选出最优的进行文件传输。这样避免了一种搭便车（只下载不上传）的情况，因为如果不上传的话，就不可能排在你所需求传输的对等方的优先队列前面。
