# DNS
-----


## DNS定义

1. 一个由分层的**DNS服务器**实现的分布式数据库。
2. 一个允许主机查询分布式数据库的应用层协议。


## DNS请求过程

1. 同一台用户主机上运行着DNS应用的客户机端。
2. 该浏览器从URL中抽取出主机名，并将这个主机名传个DNS应用的客户机端。
3. 该DNS客户机向DNS服务器发送一个包含主机名的请求。
4. 该DNS客户机最终会收到一份回答报文，其中包含有对应于该主机名的IP地址。
5. 一旦该浏览器接收到来自DNS的IP地址，它就可以向该IP地址定位的HTTP服务器发起一个TCP连接。


## DNS服务器类型

+ 根DNS服务器
+ 顶级域（TLD）服务器
+ 权威DNS服务器


## DNS记录

DNS记录是一个包含以下字段的四元组：

    (Name, Value, Type, TTL)

+ 其中TTL是该记录的生存时间，它决定了记录应该从缓存中删除的时间。

+ 而Name和Value的值取决于Type

    * 如果Type=A，则Name是主机名，Value是该主机名的IP地址。
    * 如果Type=NS，则Name是域，而Value是知道如何获得该域中主机IP地址的权威服务器的主机名。
    * 如果Type=CNAME，则Value是别名为Name的主机对应的规范主机名。
    * 如果Type=MX，则Value是别名为Name的邮件服务器的规范主机名。
